import java.util.*;

public class Game {
    Scanner reader = new Scanner(System.in);

    Player player = new Player();
    Store store = new Store();
    Dungeon dungeon = new Dungeon();

    public void intro() {    
        System.out.println("You wake up dazed and confused inside of a dark and musty cave");
        System.out.print("what is your name?   ");
        player.setName(reader.next());
        System.out.println(player.getName() + "? That's a nice name.");
        System.out.println("You will now choose your attributes, you have 10 skill points available.");
        System.out.println("Press the corresponding numerical value for the attribute that you would like to apply a skill point to.");
        System.out.println("(1) - Strength \n(2) - Vitality \n(3) - Luck \n(4) - Speech \n(5) - Finesse \n(6) - Agility ");
        while(player.getAttributeCount() > 0) {
            String pick = reader.next();
            if(pick == "1") {
                player.increaseStrength();
            } else if(pick == "2") {
                player.increaseVitality();
            } else if(pick == "3") {
                player.increaseLuck();
            } else if(pick == "4") {
                player.increaseSpeech();
            } else if(pick == "5") {
                player.increaseFinesse();
            } else if(pick == "6") {
                player.increaseAgility();
            } else {
                tony();
            }
            player.getAttributes();
            System.out.println("You have " + player.getAttributeCount() + " attribute points left to distribute.");

        }
        System.out.println("Feeling fresh and ready for a new day you carefully make your way out of the cave.");
        System.out.println("After leaving the cave you find yourself in a mysterious forest, you follow a dirt path until you see in the distance a proper gravel road.");
        System.out.println("You follow the path until you see ahead of you a small village with a few houses, general store and most importantly, a pub.");
    }

    public void choices() {
        System.out.println("You are in the courtyard, where would you like to go? \n(1) - Dungeon \n(2) - Store");
        if(reader.next() == "1") {
            System.out.println("You are in the dungeon, would you like to fight or leave? \n(1) - Fight \n(2) - Leave");
            if(reader.next() == "1") {
                player.attackSequence(dungeon.getEnemy());
                if(dungeon.getEnemy().getHealth() <= 0) {
                    dungeon.killCurrentEnemy();
                    System.out.println("You won! Having defeated your opponent you leave the dungeon in order to regain your senses.");
                    this.choices();
                }
            }
            else if (reader.next() == "2") {
                this.choices();
            }
            else {
                tony();
            }
        }
        else if (reader.next() == "2") {
            System.out.println("Welcome to the general store! What can I get for you today?");
            System.out.println("(1) - Buy \n (2) - Leave");
            if (reader.next() == "1") {
                
            }
        }
        else {
            tony();
        }
    }

    public void endGame() {
        System.out.println("You have completed your quest!");
        System.out.println("Name: " + player.getName());
        System.out.println("Stats: ");
        player.getAttributes();
    }

    public void tony() {
        System.out.println("Please enter a valid input.");
    }
}

